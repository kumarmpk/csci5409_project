(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(30),s=a.n(l),o=a(37),c=a(8),i=a(9),u=a(11),d=a(10),m=a(12),h=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={},r}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"homebox"},n.a.createElement("div",{className:"home"},n.a.createElement("h5",{className:"text-danger pt-3 ml-3"},"Welcome to Our Company Z"),n.a.createElement("h6",{className:"text-dark pt-3 ml-3"},"About Us"),n.a.createElement("div",{className:"border rounded ml-3",style:{width:"50%"}},n.a.createElement("p",{className:"text-dark pt-3 ml-5 mr-3 "},"A web-application that offers the client users to select a particular job (either by selecting a job name from a list of job-names (obtained from the company X) in ",n.a.createElement("b",null,"Get All Jobs")," ","page or by doing a search for a job with a particular name supplied by the user in ",n.a.createElement("b",null,"Search")," page.")))))}}]),a}(r.Component),p=a(112),f=a(73),b=a(109),g=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleLogout=function(e){localStorage.removeItem("userId"),localStorage.removeItem("session_token"),r.props.history.push("/")},r.state={},r}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"header"},n.a.createElement(p.a,{className:"navHeader bg-primary mt-3",expand:"lg"},n.a.createElement(p.a.Brand,{className:"text-light font-weight-bold",href:"/"},"Home"),n.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"text-light font-weight-bold"},"Menu"),n.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(f.a,null,n.a.createElement(f.a.Link,{className:"text-light font-weight-bold",href:"/search"},"Search"),n.a.createElement(f.a.Link,{className:"text-light font-weight-bold",href:"/getAll"},"Get All Jobs")),localStorage.session_token?n.a.createElement(b.a,{className:"text-light ml-auto mr-2",onClick:this.handleLogout,variant:""},n.a.createElement("i",{className:"fas fa-sign-out-alt"})):null))))}}]),a}(r.Component),v=Object(m.g)(g),E=a(5),y=a.n(E),j=a(14),O=a(36),N=a(15),k=a.n(N),M=a(111),w=a(13),C=a.n(w),S=a(16),x=a.n(S),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleLoadingClose=function(e){r.setState({loading:!1})},r.onChange=function(e){var t;r.setState((t={errorMsg:""},Object(O.a)(t,e.target.name,e.target.value),Object(O.a)(t,"validationErrorFlag",!1),t))},r.onSearch=function(e){e.preventDefault();var t=r.state.search;(t=t.trim())?r.apiCall(t):r.setState({errorMsg:C.a[7],tableFlag:!1,loading:!1})},r.state={jobpart:[],search:"",tableFlag:!1,errorMsg:"",loading:!1},r}return Object(i.a)(a,[{key:"apiCall",value:function(){var e=Object(j.a)(y.a.mark((function e(t){var a,r,n=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=x.a.COMP_X_URL+"jobList?jobName=".concat(t),e.next=4,k.a.get(a).then((function(e){var t={};e.data.result?(t=e.data.result)&&t.length?n.setState({jobpart:t[0],tableFlag:!0,errorMsg:"",loading:!1}):n.setState({errorMsg:C.a[10],loading:!1,jobpart:[]}):204===e.data.statusCode?n.setState({errorMsg:e.data.message,loading:!1}):n.setState({errorMsg:C.a[4],loading:!1})})).catch((function(e){e.response?n.setState({tableFlag:!1,errorMsg:e.response.data.error,loading:!1}):n.setState({tableFlag:!1,errorMsg:C.a[4],loading:!1})}));case 4:return r=x.a.COMP_Z_URL+"jobs/".concat(this.state.search),e.next=7,k.a.post(r).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchResults",value:function(){var e=this.state.jobpart;return n.a.createElement("div",null,this.state.tableFlag?n.a.createElement("div",null,n.a.createElement("div",{className:"col-12 col-sm-12 pt-4"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"thead"},n.a.createElement("tr",null,n.a.createElement("th",null,"JobName"))),n.a.createElement("tbody",null,this.state.jobpart?n.a.createElement("tr",{key:Math.random()},n.a.createElement("th",null,n.a.createElement("a",{href:"/login/".concat(e.jobName)},e.jobName))):n.a.createElement("tr",{key:Math.random()},n.a.createElement("th",null,"No Job matches the search.")))))):n.a.createElement("div",null),n.a.createElement(M.a,{show:this.state.loading,onHide:this.handleLoadingClose,centered:!0},n.a.createElement(M.a.Header,{closeButton:!0},n.a.createElement(M.a.Title,null,"Loading")),n.a.createElement(M.a.Body,null,"The details are loading please wait...."),n.a.createElement(M.a.Footer,null,n.a.createElement(b.a,{variant:"secondary",onClick:this.handleLoadingClose},"Close"))))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"search pt-3 ml-3"},n.a.createElement("p",{className:"error-msg",style:{color:"red"}},this.state.errorMsg?this.state.errorMsg:null),n.a.createElement("h4",{className:"search pt-3 ml-3 text-dark font-weight-bold",style:{fontFamily:"Sans"}},"Search page"),n.a.createElement("div",{className:"border rounded pt-1 ml-3",style:{width:"20%"}},n.a.createElement("form",null,n.a.createElement("input",{type:"text",placeholder:"Search",className:"mr-sm-2",name:"search",value:this.state.search,onChange:this.onChange,style:{border:"2px solid red",borderRadius:"4px"}}),n.a.createElement(b.a,{type:"submit",variant:"outline-success",onClick:this.onSearch},"Search"))),this.searchResults()))}}]),a}(r.Component),L=a(33),F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleLoadingClose=function(e){r.setState({loading:!1})},r.state={jobparts:[],loading:!0,errorMsg:""},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t,a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=x.a.COMP_X_URL+"jobs",e.next=4,k.a.get(t).then((function(e){var t,r=[];if((t=e.data.result)&&t.length){var n,l=Object(L.a)(t);try{var s=function(){var e=n.value;r&&r.length>0&&e&&e.jobName&&r.find((function(t){return t.jobName===e.jobName}))||r.push(e)};for(l.s();!(n=l.n()).done;)s()}catch(o){l.e(o)}finally{l.f()}}a.setState({loading:!1,jobparts:r})})).catch((function(e){a.setState({loading:!1,errorMsg:e.data})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({loading:!1,errorMsg:e.t0.data});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("div",{className:"col-12 col-sm-12 pt-4"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"thead"},n.a.createElement("tr",null,n.a.createElement("th",null,"Jobname"))),n.a.createElement("tbody",null,this.state.jobparts.map((function(e){return n.a.createElement("tr",{key:Math.random()},n.a.createElement("th",null,n.a.createElement("a",{href:"/login/".concat(e.jobName)},e.jobName)))})))))),n.a.createElement(M.a,{show:this.state.loading,onHide:this.handleLoadingClose,centered:!0},n.a.createElement(M.a.Header,{closeButton:!0},n.a.createElement(M.a.Title,null,"Loading")),n.a.createElement(M.a.Body,null,"The details are loading please wait...."),n.a.createElement(M.a.Footer,null,n.a.createElement(b.a,{variant:"secondary",onClick:this.handleLoadingClose},"Close"))))}}]),a}(r.Component),R=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t;r.setState((t={errorMsg:""},Object(O.a)(t,e.target.name,e.target.value),Object(O.a)(t,"validationErrorFlag",!1),t))},r.onLoginSubmit=function(e){e.preventDefault(),r.setState({validationErrorFlag:!1,errorMsg:""});var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r.state.email).toLowerCase());if(r.state&&r.state.email&&r.state.password&&r.state!=={}&&""!==r.state.email&&""!==r.state.password){if(!t)return void r.setState({validationErrorFlag:!0,errorMsg:C.a[2]});r.apiCall()}else r.setState({validationErrorFlag:!0,errorMsg:C.a[1]})};var n=r.props.match.params.jobName;return r.state={email:"",password:"",errorMsg:"",jobName:n},localStorage.userId&&localStorage.session_token&&r.props.history.push({pathname:"/homepage",state:{userId:localStorage.userId,jobName:r.state.jobName}}),r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"apiCall",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t,a,r=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={password:this.state.password,username:this.state.email},a=x.a.COMP_Z_URL+"users",e.next=5,k.a.post(a,t).then((function(e){200===e.status&&(localStorage.setItem("userId",r.state.email),localStorage.setItem("session_token",e.data),r.props.history.push({pathname:"/homepage",state:{userId:r.state.email,jobName:r.state.jobName}}),r.setState({email:"",password:"",errorMsg:""}))})).catch((function(e){console.log(e),console.log(e.response),e&&e.response&&e.response.data?r.setState({errorMsg:e.response.data}):r.setState({errorMsg:C.a[4]})}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({errorMsg:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"container pt-4 pb-4"},n.a.createElement("div",{className:"row justify-content-center pt-4"},n.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 pt-4 signup-div border rounded"},n.a.createElement("h3",{className:"registerTitle text-center"},"Login"),n.a.createElement("form",{className:"form-container pt-2 pb-5"},n.a.createElement("p",{className:"error-msg",style:{color:"red"}},this.state.errorMsg?this.state.errorMsg:null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"}," Email Address "),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter Email Address",required:!0,onChange:this.handleChange,value:this.state.email})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",onChange:this.handleChange,value:this.state.password,required:!0})),n.a.createElement("div",{className:"form-group text-center"},n.a.createElement("button",{onClick:this.onLoginSubmit,type:"submit",className:"btn btn-info btn-centre"},"Login")))))))}}]),a}(r.Component),_=a(34),D=a(113),P=a(110),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).handleModalClose=function(e){r.setState({modalFlag:!1}),"1"===r.state.modalRoute?r.props.history.push("/search"):"2"===r.state.modalRoute&&r.setState({errorMsg:r.state.modalMsg,modalMsg:"",modalRoute:0,modalFlag:!1})},r.onOrder=function(e){e.preventDefault(),r.setState({errorMsg:"",requestDetails:[],modalRoute:0,modalFlag:!1,modalMsg:""});for(var t,a=[],n=r.state.selected,l=0,s=Object.keys(n);l<s.length;l++)n[t=s[l]]&&a.push(t);if(a&&a.length){r.setState({selectedList:a});var o,c=Object(L.a)(a);try{var i=function(){var e=o.value,t=r.state.jobparts.find((function(t){return t.partId===parseInt(e)}));if(t&&0!==Object.keys(t).length&&t.avlQty<t.reqQty)return r.setState({errorMsg:t.partName+C.a[6]}),{v:void 0}};for(c.s();!(o=c.n()).done;){var u=i();if("object"===typeof u)return u.v}}catch(d){c.e(d)}finally{c.f()}r.orderBackendCall()}else r.setState({errorMsg:C.a[3]})},r.handleLoadingClose=function(e){r.setState({loading:!1})};var n=r.props.orderObj.jobName,l=r.props.orderObj.userId;return r.state={jobparts:[],jobName:n,selected:{},selectedList:[],errorMsg:"",userId:l,loading:!0,modalFlag:!1,modalMsg:"",modalRoute:0,partsFromX:[],requestDetails:[]},r}return Object(i.a)(a,[{key:"getJobDetails",value:function(){var e=Object(j.a)(y.a.mark((function e(t){var a,r,n=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.jobName,r=x.a.COMP_X_URL+"jobList?jobName=".concat(a),e.next=4,k.a.get(r).then((function(e){var a,r=e.data.result,l={},s=[],o=[],c=Object(L.a)(r);try{for(c.s();!(a=c.n()).done;){l=a.value;var i={};s.push(l.partId),i.jobName=l.jobName,i.reqQty=l.qty,i.partId=l.partId,o.push(i)}}catch(u){c.e(u)}finally{c.f()}return n.setState({partsFromX:s,jobparts:o}),t(1)})).catch((function(e){console.log(e),console.log(e.response),n.setState({loading:!1,errorMsg:C.a[5]})}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPartDetails",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t,a,r,n,l,s,o=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.partsFromX,a=[],r=this.state.jobparts,!t||!t.length){e.next=20;break}n=Object(L.a)(t),e.prev=5,s=y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.value,n=x.a.COMP_Y_URL+"parts/".concat(t),e.next=4,k.a.get(n).then((function(e){var n=e.data;if(0!==Object.keys(n[0]).length){var l=r.find((function(e){return e.partId===parseInt(t)})),s=n[0];l.partName=s.partName,l.avlQty=s.qoh,a.push(l)}o.setState({jobparts:a,loading:!1})})).catch((function(e){console.log(e),console.log(e.response),o.setState({errorMsg:C.a[4],loading:!1,modalFlag:!0,modalMsg:C.a[4]})}));case 4:case"end":return e.stop()}}),e)})),n.s();case 8:if((l=n.n()).done){e.next=12;break}return e.delegateYield(s(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),n.e(e.t1);case 17:return e.prev=17,n.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[5,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getJobDetails((function(e){1===e?t.getPartDetails():t.errorRes("5")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCheckbox",value:function(e){var t=Object.assign({},this.state.selected);t[e]=!this.state.selected[e],this.setState({selected:t,errorMsg:""})}},{key:"prepareOrderDetails",value:function(){var e=Object(j.a)(y.a.mark((function e(t){var a,r,n,l,s,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r={},n=this.state.jobparts,l=this.state.selected,s=Object(L.a)(n);try{for(s.s();!(o=s.n()).done;)r=o.value,l[r.partId]&&(c={jobName:r.jobName,partId:r.partId,qty:r.reqQty,userId:this.state.userId,result:"Ordered"},a.push(c))}catch(i){s.e(i)}finally{s.f()}return e.next=8,this.setState({requestDetails:a});case 8:t(200);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrderDetailsinZ",value:function(){var e=Object(j.a)(y.a.mark((function e(t,a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.a.COMP_Z_URL+"updateOrderusing2pc",e.next=3,k.a.post(r,t).then((function(e){if(console.log("res",e),200===e.status&&e.data.includes("commit")&&!e.data.includes("rollback"))return a(200);a("6")})).catch((function(e){e.response&&e.response.data?a(e.response.data):a(5)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"errorRes",value:function(e){e=e&&C.a[e]?C.a[e]:e,this.setState({loading:!1,modalFlag:!0,modalMsg:"The system faced error while placing order. "+e,modalRoute:"2"})}},{key:"checkOrderUser",value:function(){var e=Object(j.a)(y.a.mark((function e(t,a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.a.COMP_Z_URL+"getOrder",e.next=3,k.a.post(r,t).then((function(e){e.data?a(0===e.data.length):a(!1)})).catch((function(e){a(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"orderBackendCall",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.setState({loading:!0}),this.prepareOrderDetails((function(e){var a=t.state.requestDetails;200===e&&a&&a.length?t.checkOrderUser(a,(function(e){e?t.updateOrderDetailsinZ(a,(function(e){200===e?t.setState({loading:!1,modalFlag:!0,modalMsg:"The order has been successfully placed and updated in company X and Y",modalRoute:"1"}):t.errorRes(e)})):t.errorRes("9")})):t.errorRes("5")}))}catch(a){this.errorRes("5")}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("div",{className:"col-12 col-sm-12 pt-4"},n.a.createElement("form",null,n.a.createElement("p",{className:"error-msg",style:{color:"red"}},this.state.errorMsg?this.state.errorMsg:null),this.state.jobparts.length>0?n.a.createElement("div",null,n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"thead"},n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Job Name"),n.a.createElement("th",null,"Part Id"),n.a.createElement("th",null,"Part Name"),n.a.createElement("th",null,"Required Quantity"),n.a.createElement("th",null,"Available Quantity"))),n.a.createElement("tbody",null,this.state.jobparts.map((function(t){return n.a.createElement("tr",{key:Math.random()},n.a.createElement("td",null,n.a.createElement("input",{name:"checkbox",type:"checkbox",onChange:function(){return e.handleCheckbox(t.partId)},checked:!0===e.state.selected[t.partId]})),n.a.createElement("td",null,t.jobName),n.a.createElement("td",null,t.partId),n.a.createElement("td",null,t.partName),n.a.createElement("td",null,t.reqQty),n.a.createElement("td",null,t.avlQty))})))),n.a.createElement("div",{className:"form-group text-center"},n.a.createElement("button",{onClick:this.onOrder,type:"submit",className:"btn btn-info btn-centre"},"Order"))):n.a.createElement("p",null,"No parts for this job. Kindly contact company Y to add the details.")))),n.a.createElement(M.a,{show:this.state.loading,onHide:this.handleLoadingClose,centered:!0},n.a.createElement(M.a.Header,{closeButton:!0},n.a.createElement(M.a.Title,null,"Loading")),n.a.createElement(M.a.Body,null,"The details are loading please wait...."),n.a.createElement(M.a.Footer,null,n.a.createElement(b.a,{variant:"secondary",onClick:this.handleLoadingClose},"Close"))),n.a.createElement(M.a,{show:this.state.modalFlag,onHide:this.handleModalClose,centered:!0},n.a.createElement(M.a.Header,{closeButton:!0},n.a.createElement(M.a.Title,null,"Order Result")),n.a.createElement(M.a.Body,null,this.state.modalMsg),n.a.createElement(M.a.Footer,null,n.a.createElement(b.a,{variant:"secondary",onClick:this.handleModalClose},"Close"))))}}]),a}(r.Component),T=Object(m.g)(H),U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={searchHistory:[]},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t,a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.a.COMP_Z_URL+"searchhistory",e.next=3,k.a.get(t).then((function(e){a.setState({searchHistory:e.data})})).catch((function(e){a.setState({errorMsg:C.a[4]})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("p",{className:"error-msg",style:{color:"red"}},this.state.errorMsg?this.state.errorMsg:null),n.a.createElement("div",{className:"col-12 col-sm-12 pt-4"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"thead"},n.a.createElement("tr",null,n.a.createElement("th",null,"Jobname"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Time"))),n.a.createElement("tbody",null,this.state.searchHistory.map((function(e){return n.a.createElement("tr",{key:Math.random()},n.a.createElement("th",null,e.jobName),n.a.createElement("td",null,e.date),n.a.createElement("td",null,e.time))})))))))}}]),a}(r.Component),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(c.a)(this,a),r=t.call(this,e);var n=localStorage.userId;return n?(r.state={orderedHistory:[],userId:n},r):Object(_.a)(r,r.props.history.push("/NotFound"))}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(y.a.mark((function e(){var t,a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.a.COMP_Z_URL+"getOrderedJobs?userId=".concat(this.state.userId),e.next=3,k.a.get(t).then((function(e){a.setState({orderedHistory:e.data})})).catch((function(e){e&&e.response&&e.response.data?a.setState({errorMsg:e.response.data}):a.setState({errorMsg:C.a[4]})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.orderedHistory;if(e&&e.length){var t,a=e.length;for(t=0;t<a;t++){var r=e[t],l=r.date,s=new Date(l);s.setDate(s.getDate()+1);var o=s.toDateString();r.date=o}}return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("p",{className:"error-msg",style:{color:"red"}},this.state.errorMsg?this.state.errorMsg:null),n.a.createElement("div",{className:"col-12 col-sm-12 pt-4"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"thead"},n.a.createElement("tr",null,n.a.createElement("th",null,"Job Name"),n.a.createElement("th",null,"Part Id"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Ordered Date"),n.a.createElement("th",null,"Ordered Time"))),n.a.createElement("tbody",null,e&&e.map((function(e){return n.a.createElement("tr",{key:Math.random()},n.a.createElement("th",null,e.jobName),n.a.createElement("td",null,e.partId),n.a.createElement("td",null,e.qty),n.a.createElement("td",null,e.date),n.a.createElement("td",null,e.time))})))))))}}]),a}(r.Component),J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={},r}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"notfound"},"The page is not found in the application."))}}]),a}(r.Component),A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;if(Object(c.a)(this,a),!(r=t.call(this,e)).props.location.state)return r.props.history.push("/NotFound"),Object(_.a)(r);var n=r.props.location.state.jobName,l=r.props.location.state.userId;return r.state={jobName:n,userId:l},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(this.state){var e={jobName:this.state.jobName,userId:this.state.userId};return n.a.createElement("div",null,n.a.createElement(D.a,{defaultActiveKey:"orderPage",id:"uncontrolled-tab-example"},n.a.createElement(P.a,{eventKey:"orderPage",title:"Order Page"},n.a.createElement(T,{orderObj:e})),n.a.createElement(P.a,{eventKey:"searchHistory",title:"Search History"},n.a.createElement(U,null)),n.a.createElement(P.a,{eventKey:"orderedHistory",title:"Ordered History"},n.a.createElement(q,null))))}return this.props.history.push("./not-found"),n.a.createElement("div",null,n.a.createElement(J,null))}}]),a}(r.Component),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement(v,null)),n.a.createElement("div",{className:"centerContent"},n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:"/",component:h}),n.a.createElement(m.b,{exact:!0,path:"/search",render:function(e){return n.a.createElement(I,e)}}),n.a.createElement(m.b,{path:"/getAll",render:function(e){return n.a.createElement(F,e)}}),n.a.createElement(m.b,{path:"/login/:jobName",render:function(e){return n.a.createElement(R,e)}}),n.a.createElement(m.b,{path:"/homepage",render:function(e){return n.a.createElement(A,e)}}),n.a.createElement(m.b,{path:"/not-found",render:function(e){return n.a.createElement(J,e)}}),n.a.createElement(m.a,{to:"/not-found"}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(18),Q=Object(Z.a)();s.a.render(n.a.createElement(o.a,{history:Q},n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},13:function(e,t){e.exports={1:"Mandatory fields are missing",2:"Email address is not valid.",3:"Please select at least one part to place order",4:"The application faced network issue. Please contact support team for immediate assistance.",5:"The application faced unexpected exception while fetching job details. Please contact support.",6:" part is out of stock. Order cannot be placed right now. Please try after sometime.",7:"Search field is empty. Kindly enter a jobname to search.",8:"partorders table with jobName, partId, and userId combination already exists",9:"User has already ordered the part",10:"Job name does not match with the data. Try get all page to select the job."}},16:function(e,t){e.exports={COMP_Z_URL:"https://us-central1-cloudprojects-279901.cloudfunctions.net/companyZ/api/",COMP_X_URL:"https://enigmatic-everglades-12100.herokuapp.com/api/",COMP_Y_URL:"https://us-central1-testproject-277421.cloudfunctions.net/cloudproject_compY/"}},75:function(e,t,a){e.exports=a(107)}},[[75,1,2]]]);
//# sourceMappingURL=main.97d69560.chunk.js.map